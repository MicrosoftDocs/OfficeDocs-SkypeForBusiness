---
title: 'Lync Server 2013: Testing service activation and group permissions'
ms.reviewer: 
ms.author: v-lanac
author: lanachin
TOCTitle: Testing service activation and group permissions
ms:assetid: 2c59e603-ba85-40ba-91a7-51c6fd39472e
ms:mtpsurl: https://technet.microsoft.com/en-us/library/Dn743833(v=OCS.15)
ms:contentKeyID: 63969594
ms.date: 01/27/2015
manager: serdars
mtps_version: v=OCS.15
---

<div data-xmlns="http://www.w3.org/1999/xhtml">

<div class="topic" data-xmlns="http://www.w3.org/1999/xhtml" data-msxsl="urn:schemas-microsoft-com:xslt" data-cs="http://msdn.microsoft.com/en-us/">

<div data-asp="http://msdn2.microsoft.com/asp">

# Testing service activation and group permissions in Lync Server 2013

</div>

<div id="mainSection">

<div id="mainBody">

<span> </span>

_**Topic Last Modified:** 2014-06-05_


<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>Verification schedule</p></td>
<td><p>Daily</p></td>
</tr>
<tr class="even">
<td><p>Testing tool</p></td>
<td><p>Windows PowerShell</p></td>
</tr>
<tr class="odd">
<td><p>Permissions required</p></td>
<td><p>When run locally using the Lync Server Management Shell, users must be members of the RTCUniversalServerAdmins security group.</p>
<p>When run using a remote instance of Windows PowerShell, users must be assigned an RBAC role that has permission to run the Test-CsTopology cmdlet. To see a list of all RBAC roles that can use this cmdlet, run the following command from the Windows PowerShell prompt:</p>
<pre><code>Get-CsAdminRole | Where-Object {$_.Cmdlets -match &quot;Test-CsTopology&quot;}</code></pre></td>
</tr>
</tbody>
</table>


<div>

## Description

The Test-CsTopology cmdlet enables you to verify that Lync Server 2013 is functioning correctly at a global scope. By default, the cmdlet checks your whole Lync Server infrastructure, verifying that the required services are running and that the appropriate permissions are set for these services and for the universal security groups that are created when you install Lync Server.

In addition to verifying the validity of the Lync Server installation, Test-CsTopology also lets you check the validity of a specific service. For example, this command checks the state of the A/V Conferencing Server on the pool atl-cs-001.litwareinc.com:

    Test-CsTopology -Service "ConferencingServer:atl-cs-001.litwareinc.com"

</div>

<div>

## Running the test

By default, Test-CsTopology displays very little output on-screen. Instead, information returned by the cmdlet is written to an HTML file. The Report parameter allows you to specify a file path and file name for the HTML file generated by Test-CsTopology. If you do not include the Report parameter the HTML file will automatically be saved to your Users folder and be given a name similar to this: ce84964a-c4da-4622-ad34-c54ff3ed361f.html.

The following sample command runs Test-CsTopology and saves the output to a file that is named C:\\Logs\\ComputerTest.html:

    Test-CsTopology -Report "C:\Logs\ComputerTest.html" -Verbose

For more information, see the Help documentation for the [Test-CsTopology](https://docs.microsoft.com/powershell/module/skype/Test-CsTopology) cmdlet.

</div>

<div>

## Determining success or failure

Unlike most of the test cmdlets, Test-CsTopology does report back Success or Failure. In part, that’s due to the large number of verification checks that the cmdlet must make every time that it runs. Instead, data is saved to an HTML report that can then be viewed by using Internet Explorer.

</div>

<div>

## Reasons why the test might have failed

Here are some common reasons why Test-CsTopology might fail:

  - Replication might not be up-to-date on the test computer. You can check the current replication status for a computer by running the Get-CsManagementStoreReplicationStatus cmdlet:
    
        Get-CsManagementStoreReplicationStatus -ReplicaFqdn "atl-cs-001.litwareinc.com"
    
    If the replication status is not up-to-date, you can manually force replication to occur by using a command similar to this:
    
        Invoke-CsManagementStoreReplication -ReplicaFqdn "atl-cs-001.litwareinc.com"

  - The topology might have to be enabled. If you change the Lync Server topology (changes that might affect the local computer), then you must enable the new topology. You can enable the topology at any time by running this command:
    
        Enable-CsTopology

</div>

</div>

<span> </span>

</div>

</div>

</div>

